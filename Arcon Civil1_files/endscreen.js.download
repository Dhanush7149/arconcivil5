(function(g){var window=this;'use strict';var U02=function(w){w.publish("autonavvisibility")},VfO=function(w,Q){w.sz("onAutonavCoundownStarted",Q)},ZVO=function(w){return w.isBackground()&&w.lY()},km3=function(w){var Q,G,J;
return w==null?void 0:(Q=w.playerOverlays)==null?void 0:(G=Q.playerOverlayRenderer)==null?void 0:(J=G.autoplay)==null?void 0:J.playerOverlayAutoplayRenderer},vz=function(w){var Q=w.T(),G=Q.J;
g.H.call(this,{S:"a",X:"ytp-autonav-suggestion-card",N:{href:"{{url}}",target:G?Q.YB:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},V:[{S:"div",qc:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],N:{style:"{{background}}"},V:[{S:"div",N:{"aria-label":"{{timestamp}}"},qc:["ytp-autonav-timestamp"],QX:"{{duration}}"},{S:"div",qc:["ytp-autonav-live-stamp"],QX:"Live"},{S:"div",
qc:["ytp-autonav-upcoming-stamp"],QX:"Upcoming"},{S:"div",X:"ytp-autonav-list-overlay",V:[{S:"div",X:"ytp-autonav-mix-text",QX:"Mix"},{S:"div",X:"ytp-autonav-mix-icon"}]}]},{S:"div",qc:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],QX:"{{title}}"},{S:"div",qc:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],QX:"{{author}}"},{S:"div",qc:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],QX:"{{views_and_publish_time}}"}]});this.G=w;this.suggestion=
null;this.Y=G;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},sN=function(w,Q){Q=Q===void 0?!1:Q;
g.H.call(this,{S:"div",X:"ytp-autonav-endscreen-countdown-overlay"});var G=this;this.Z=Q;this.cancelCommand=this.K=void 0;this.L=0;this.container=new g.H({S:"div",X:"ytp-autonav-endscreen-countdown-container"});g.P(this,this.container);this.container.hU(this.element);Q=w.T();var J=Q.J;this.G=w;this.suggestion=null;this.onVideoDataChange("newdata",this.G.getVideoData());this.j(w,"videodatachange",this.onVideoDataChange);this.Y=new g.H({S:"div",X:"ytp-autonav-endscreen-upnext-container",N:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},V:[{S:"div",X:"ytp-autonav-endscreen-upnext-header"},{S:"div",X:"ytp-autonav-endscreen-upnext-alternative-header",QX:"{{autoplayAlternativeHeader}}"},{S:"a",X:"ytp-autonav-endscreen-link-container",N:{href:"{{url}}",target:J?Q.YB:""},V:[{S:"div",X:"ytp-autonav-endscreen-upnext-thumbnail",N:{style:"{{background}}"},V:[{S:"div",N:{"aria-label":"{{timestamp}}"},qc:["ytp-autonav-timestamp"],
QX:"{{duration}}"},{S:"div",qc:["ytp-autonav-live-stamp"],QX:"Live"},{S:"div",qc:["ytp-autonav-upcoming-stamp"],QX:"Upcoming"}]},{S:"div",X:"ytp-autonav-endscreen-video-info",V:[{S:"div",X:"ytp-autonav-endscreen-premium-badge"},{S:"div",X:"ytp-autonav-endscreen-upnext-title",QX:"{{title}}"},{S:"div",X:"ytp-autonav-endscreen-upnext-author",QX:"{{author}}"},{S:"div",X:"ytp-autonav-view-and-date",QX:"{{views_and_publish_time}}"},{S:"div",X:"ytp-autonav-author-and-view",QX:"{{author_and_views}}"}]}]}]});
g.P(this,this.Y);this.Y.hU(this.container.element);J||this.j(this.Y.AU("ytp-autonav-endscreen-link-container"),"click",this.rA);this.G.createClientVe(this.container.element,this,115127);this.G.createClientVe(this.Y.AU("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.H({S:"div",X:"ytp-autonav-overlay"});g.P(this,this.overlay);this.overlay.hU(this.container.element);this.W=new g.H({S:"div",X:"ytp-autonav-endscreen-button-container"});g.P(this,this.W);this.W.hU(this.container.element);
this.cancelButton=new g.H({S:"button",qc:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button","ytp-autonav-endscreen-upnext-button-rounded"],N:{"aria-label":"Cancel auto-play"},QX:"Cancel"});g.P(this,this.cancelButton);this.cancelButton.hU(this.W.element);this.cancelButton.listen("click",this.Rz,this);this.G.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.H({S:"a",qc:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
"ytp-autonav-endscreen-upnext-button-rounded"],N:{href:"{{url}}",role:"button","aria-label":"Play next video"},QX:"Play now"});g.P(this,this.playButton);this.playButton.hU(this.W.element);this.playButton.listen("click",this.rA,this);this.G.createServerVe(this.playButton.element,this.playButton,!0);(Q=this.G.getVideoData())&&rVl(this,Q);this.J=new g.iz(function(){yVk(G)},500);
g.P(this,this.J);this.WZ();this.j(w,"autonavvisibility",this.WZ);this.G.U("web_autonav_color_transition")&&(this.j(w,"autonavchange",this.Ee),this.j(w,"onAutonavCoundownStarted",this.HGA))},Bz=function(w){var Q=w.G.Vl(!0,w.G.isFullscreen());
g.on(w.container.element,"ytp-autonav-endscreen-small-mode",w.wk(Q));g.on(w.container.element,"ytp-autonav-endscreen-is-premium",!!w.suggestion&&!!w.suggestion.VEB);g.on(w.G.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!w.G.r_());g.on(w.G.getRootNode(),"countdown-running",w.kC());g.on(w.container.element,"ytp-player-content",w.G.r_());g.WP(w.overlay.element,{width:Q.width+"px"});if(!w.kC()){w.G.r_()?D0d(w,Math.round(abj(w)/1E3)):D0d(w);Q=!!w.suggestion&&!!w.suggestion.tB;var G=w.G.r_()||
!Q;g.on(w.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!G&&Q);g.on(w.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",G&&!Q);w.W.Xu(w.G.r_());g.on(w.element,"ytp-enable-w2w-color-transitions",Y0o(w))}},yVk=function(w){var Q=abj(w),G=Math,J=G.min;
var N=w.L?Date.now()-w.L:0;G=J.call(G,N,Q);D0d(w,Math.ceil((Q-G)/1E3));Q-G<=500&&w.kC()?w.select(!0):w.kC()&&w.J.start()},abj=function(w){if(w.G.isFullscreen()){var Q;
w=(Q=w.G.getVideoData())==null?void 0:Q.Tg;return w===-1||w===void 0?8E3:w}return w.G.kp()>=0?w.G.kp():g.Ng(w.G.T().experiments,"autoplay_time")||1E4},rVl=function(w,Q){Q=Q.getWatchNextResponse();
var G,J;Q=(G=km3(Q))==null?void 0:(J=G.nextButton)==null?void 0:J.buttonRenderer;w.K=Q==null?void 0:Q.navigationEndpoint;G=Q==null?void 0:Q.trackingParams;w.playButton&&G&&w.G.setTrackingParams(w.playButton.element,G)},Y0o=function(w){var Q;
return!((Q=w.G.getVideoData())==null||!Q.watchToWatchTransitionRenderer)},D0d=function(w,Q){Q=Q===void 0?-1:Q;
w=w.Y.AU("ytp-autonav-endscreen-upnext-header");g.fE(w);if(Q>=0){Q=String(Q);var G="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],J="Up next in $SECONDS".indexOf(G);if(J>=0){w.appendChild(g.Yt("Up next in $SECONDS".slice(0,J)));var N=g.aH("span");g.LP(N,"ytp-autonav-endscreen-upnext-header-countdown-number");g.RH(N,Q);w.appendChild(N);w.appendChild(g.Yt("Up next in $SECONDS".slice(J+G.length)));return}}g.RH(w,"Up next")},Mi=function(w,Q){g.H.call(this,{S:"div",
qc:["html5-endscreen","ytp-player-content",Q||"base-endscreen"]});this.created=!1;this.player=w},Ia=function(w){g.H.call(this,{S:"div",
qc:["ytp-upnext","ytp-player-content"],N:{"aria-label":"{{aria_label}}"},V:[{S:"div",X:"ytp-cued-thumbnail-overlay-image",N:{style:"{{background}}"}},{S:"span",X:"ytp-upnext-top",V:[{S:"span",X:"ytp-upnext-header",QX:"Up Next"},{S:"span",X:"ytp-upnext-title",QX:"{{title}}"},{S:"span",X:"ytp-upnext-author",QX:"{{author}}"}]},{S:"a",X:"ytp-upnext-autoplay-icon",N:{role:"button",href:"{{url}}","aria-label":"Play next video"},V:[{S:"svg",N:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
V:[{S:"circle",X:"ytp-svg-autoplay-circle",N:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{S:"circle",X:"ytp-svg-autoplay-ring",N:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{S:"path",X:"ytp-svg-fill",N:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{S:"span",X:"ytp-upnext-bottom",V:[{S:"span",X:"ytp-upnext-cancel"},{S:"span",X:"ytp-upnext-paused",
QX:"Auto-play is paused"}]}]});this.api=w;this.cancelButton=null;this.K=this.AU("ytp-svg-autoplay-ring");this.L=this.notification=this.Y=this.suggestion=null;this.J=new g.iz(this.O$,5E3,this);this.W=0;var Q=this.AU("ytp-upnext-cancel");this.cancelButton=new g.H({S:"button",qc:["ytp-upnext-cancel-button","ytp-button"],N:{tabindex:"0","aria-label":"Cancel auto-play"},QX:"Cancel"});g.P(this,this.cancelButton);this.cancelButton.listen("click",this.Ai,this);this.cancelButton.hU(Q);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.P(this,this.J);this.api.createClientVe(this.element,this,18788);Q=this.AU("ytp-upnext-autoplay-icon");this.j(Q,"click",this.Lw);this.api.createClientVe(Q,this,115130);this.PZ();this.j(w,"autonavvisibility",this.PZ);this.j(w,"mdxnowautoplaying",this.kuV);this.j(w,"mdxautoplaycanceled",this.vdT);g.on(this.element,"ytp-upnext-mobile",this.api.T().W)},nCl=function(w,Q){if(Q)return Q;
if(w.api.isFullscreen()){var G;w=(G=w.api.getVideoData())==null?void 0:G.Tg;return w===-1||w===void 0?8E3:w}return w.api.kp()>=0?w.api.kp():g.Ng(w.api.T().experiments,"autoplay_time")||1E4},q00=function(w,Q){Q=nCl(w,Q);
var G=Math,J=G.min;var N=(0,g.DD)()-w.W;G=J.call(G,N,Q);Q=Q===0?1:Math.min(G/Q,1);w.K.setAttribute("stroke-dashoffset",""+-211*(Q+1));Q>=1&&w.kC()&&w.api.getPresentingPlayerType()!==3?w.select(!0):w.kC()&&w.Y.start()},oa=function(w){Mi.call(this,w,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.H({S:"div",X:"ytp-suggestion-panel",V:[{S:"div",qc:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],QX:"More videos"}]});this.D=new g.H({S:"div",X:"ytp-suggestions-container"});this.videos=[];this.L=null;this.K=this.Z=!1;this.W=new sN(this.player);g.P(this,this.W);this.W.hU(this.element);w.getVideoData().Mw?this.Y=this.W:(this.Y=new Ia(w),g.Tx(this.player,this.Y.element,4),g.P(this,this.Y));this.overlay=new g.H({S:"div",
X:"ytp-autonav-overlay-cancelled-state"});g.P(this,this.overlay);this.overlay.hU(this.element);this.J=new g.F7(this);g.P(this,this.J);g.P(this,this.table);this.table.hU(this.element);this.table.show();g.P(this,this.D);this.D.hU(this.table.element);this.hide()},$R=function(w){var Q=w.r_();
Q!==w.K&&(w.K=Q,U02(w.player),w.K?(w.W!==w.Y&&w.W.hide(),w.table.hide()):(w.W!==w.Y&&w.W.show(),w.table.show()))},fbl=function(w){Mi.call(this,w,"videowall-endscreen");
var Q=this;this.G=w;this.stills=[];this.L=this.videoData=null;this.J=this.Z=!1;this.D=null;g.s8(this.element,"modern-videowall-endscreen");this.W=new g.F7(this);g.P(this,this.W);this.K=new g.iz(function(){g.s8(Q.element,"ytp-show-tiles")},0);
g.P(this,this.K);this.table=new g.B6({S:"div",X:"ytp-modern-endscreen-content"});g.P(this,this.table);this.table.hU(this.element);w.getVideoData().Mw?this.Y=new sN(w,!0):this.Y=new Ia(w);g.P(this,this.Y);g.Tx(this.player,this.Y.element,4);w.createClientVe(this.element,this,158789);this.hide()},mh=function(w){return g.pQ(w.player)&&w.u5()&&!w.L},Ag=function(w){var Q=w.r_();
Q!==w.Z&&(w.Z=Q,U02(w.player))},d00=function(w){Mi.call(this,w,"subscribecard-endscreen");
this.Y=new g.H({S:"div",X:"ytp-subscribe-card",V:[{S:"img",X:"ytp-author-image",N:{src:"{{profilePicture}}"}},{S:"div",X:"ytp-subscribe-card-right",V:[{S:"div",X:"ytp-author-name",QX:"{{author}}"},{S:"div",X:"html5-subscribe-button-container"}]}]});g.P(this,this.Y);this.Y.hU(this.element);var Q=w.getVideoData();this.subscribeButton=new g.wh("Subscribe",null,"Unsubscribe",null,!0,!1,Q.lJ,Q.subscribed,"trailer-endscreen",null,w,!1);g.P(this,this.subscribeButton);this.subscribeButton.hU(this.Y.AU("html5-subscribe-button-container"));
this.j(w,"videodatachange",this.Z0);this.Z0();this.hide()},Fp=function(w){var Q=w.T(),G=g.ox||g.gl?{style:"will-change: opacity"}:void 0,J=Q.J,N=["ytp-videowall-still"];
Q.W&&N.push("ytp-videowall-show-text");g.H.call(this,{S:"a",qc:N,N:{href:"{{url}}",target:J?Q.YB:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},V:[{S:"div",X:"ytp-videowall-still-image",N:{style:"{{background}}"}},{S:"span",X:"ytp-videowall-still-info",N:{"aria-hidden":"true"},V:[{S:"span",X:"ytp-videowall-still-info-bg",V:[{S:"span",X:"ytp-videowall-still-info-content",N:G,V:[{S:"span",X:"ytp-videowall-still-info-title",QX:"{{title}}"},
{S:"span",X:"ytp-videowall-still-info-author",QX:"{{author_and_views}}"},{S:"span",X:"ytp-videowall-still-info-live",QX:"Live"},{S:"span",X:"ytp-videowall-still-info-duration",QX:"{{duration}}"}]}]}]},{S:"span",qc:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],N:{"aria-hidden":"true"},V:[{S:"span",X:"ytp-videowall-still-listlabel-icon"},"Playlist",{S:"span",X:"ytp-videowall-still-listlabel-length",V:[" (",{S:"span",QX:"{{playlist_length}}"},")"]}]},{S:"span",qc:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],N:{"aria-hidden":"true"},V:[{S:"span",X:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{S:"span",X:"ytp-videowall-still-listlabel-length",QX:" (50+)"}]}]});this.suggestion=null;this.W=J;this.api=w;this.Y=new g.F7(this);g.P(this,this.Y);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.Y.j(w,"videodatachange",this.onVideoDataChange);w.createServerVe(this.element,this);this.onVideoDataChange()},S4=function(w){Mi.call(this,w,"videowall-endscreen");
var Q=this;this.G=w;this.L=0;this.stills=[];this.J=this.videoData=null;this.K=this.D=!1;this.C=null;this.W=new g.F7(this);g.P(this,this.W);this.Z=new g.iz(function(){g.s8(Q.element,"ytp-show-tiles")},0);
g.P(this,this.Z);var G=new g.H({S:"button",qc:["ytp-button","ytp-endscreen-previous"],N:{"aria-label":"Previous"},V:[g.Xd()]});g.P(this,G);G.hU(this.element);G.listen("click",this.F4,this);this.table=new g.B6({S:"div",X:"ytp-endscreen-content"});g.P(this,this.table);this.table.hU(this.element);G=new g.H({S:"button",qc:["ytp-button","ytp-endscreen-next"],N:{"aria-label":"Next"},V:[g.b7()]});g.P(this,G);G.hU(this.element);G.listen("click",this.qM,this);w.getVideoData().Mw?this.Y=new sN(w,!0):this.Y=
new Ia(w);g.P(this,this.Y);g.Tx(this.player,this.Y.element,4);w.createClientVe(this.element,this,158789);this.hide()},Xp=function(w){return g.pQ(w.player)&&w.u5()&&!w.J},ba=function(w){var Q=w.r_();
Q!==w.D&&(w.D=Q,U02(w.player))},z3k=function(w,Q){g.H.call(this,{S:"button",
qc:["ytp-watch-on-youtube-button","ytp-button"],QX:"{{content}}"});this.G=w;this.buttonType=this.buttonType=Q;this.Yb();this.buttonType===2&&g.s8(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.Yb);this.Xu(!0)},xR=function(w){Mi.call(this,w,"watch-again-on-youtube-endscreen");
this.watchButton=new z3k(w,1);g.P(this,this.watchButton);this.watchButton.hU(this.element);g.I8V(w)&&(this.Y=new g.iH(w),g.P(this,this.Y),this.W=new g.H({S:"div",qc:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],N:{tabIndex:"-1"},V:[this.Y]}),g.P(this,this.W),this.Y.hU(this.W.element),this.W.hU(this.element));w.createClientVe(this.element,this,156914);this.hide()},lbj=function(w){g.FE.call(this,w);
var Q=this;this.endScreen=null;this.Y=this.W=this.L=!1;this.listeners=new g.F7(this);g.P(this,this.listeners);var G=w.T();w.isEmbedsShortsMode()?this.endScreen=new xR(w):cVd(w)?(this.L=!0,R30(this),this.Y?this.endScreen=new oa(w):G.U("delhi_modern_endscreen")?this.endScreen=new fbl(w):this.endScreen=new S4(w)):G.zy?this.endScreen=new d00(w):this.endScreen=new Mi(w);g.P(this,this.endScreen);g.Tx(w,this.endScreen.element,4);OVr(this);this.listeners.j(w,"videodatachange",this.onVideoDataChange,this);
this.listeners.j(w,g.Tv("endscreen"),function(J){Q.onCueRangeEnter(J)});
this.listeners.j(w,g.pR("endscreen"),function(J){Q.onCueRangeExit(J)})},R30=function(w){var Q=w.player.getVideoData();
if(!Q||w.Y===Q.Ty&&w.W===Q.Mw)return!1;w.Y=Q.Ty;w.W=Q.Mw;return!0},cVd=function(w){w=w.T();
return w.EX&&!w.zy&&!w.disableOrganicUi},OVr=function(w){w.player.SL("endscreen");
var Q=w.player.getVideoData();Q=new g.jr(Math.max((Q.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var G=new g.jr(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});w.player.ID([Q,G])};
g.KQ.prototype.kp=g.Kq(8,function(){return this.app.kp()});
g.Xv.prototype.kp=g.Kq(7,function(){return this.getVideoData().I1});
g.zx.prototype.qj=g.Kq(6,function(w){this.Hg().qj(w)});
g.ha.prototype.qj=g.Kq(5,function(w){this.LJ!==w&&(this.LJ=w,this.Z$())});
g.b(vz,g.H);vz.prototype.select=function(){this.G.Hv(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.kZ||void 0)&&this.G.logClick(this.element)};
vz.prototype.onClick=function(w){g.b8(w,this.G,this.Y,this.suggestion.sessionData||void 0)&&this.select()};
vz.prototype.onKeyPress=function(w){switch(w.keyCode){case 13:case 32:w.defaultPrevented||(this.select(),w.preventDefault())}};g.b(sN,g.H);g.S=sN.prototype;g.S.dc=function(w){this.suggestion!==w&&(this.suggestion=w,g.C2(this.Y,w),this.playButton.updateValue("url",this.suggestion.Xa()),Bz(this))};
g.S.kC=function(){return this.L>0};
g.S.Ya=function(){this.kC()||(this.L=Date.now(),yVk(this),VfO(this.G,abj(this)),g.on(this.G.getRootNode(),"countdown-running",this.kC()))};
g.S.rq=function(){this.yz();yVk(this);var w=this.Y.AU("ytp-autonav-endscreen-upnext-header");w&&g.RH(w,"Up next")};
g.S.yz=function(){this.kC()&&(this.J.stop(),this.L=0)};
g.S.select=function(w){this.G.nextVideo(!1,w===void 0?!1:w);this.yz()};
g.S.rA=function(w){g.b8(w,this.G)&&(w.currentTarget===this.playButton.element?this.G.logClick(this.playButton.element):w.currentTarget===this.Y.AU("ytp-autonav-endscreen-link-container")&&(w=this.Y.AU("ytp-autonav-endscreen-link-container"),this.G.logVisibility(w,!0),this.G.logClick(w)),this.K?(this.G.sz("innertubeCommand",this.K),this.yz()):this.select())};
g.S.Rz=function(){this.G.logClick(this.cancelButton.element);g.gO(this.G,!0);this.cancelCommand&&this.G.sz("innertubeCommand",this.cancelCommand)};
g.S.onVideoDataChange=function(w,Q){rVl(this,Q);w=Q.getWatchNextResponse();var G,J;w=(G=km3(w))==null?void 0:(J=G.cancelButton)==null?void 0:J.buttonRenderer;this.cancelCommand=w==null?void 0:w.command};
g.S.HGA=function(w){if(Y0o(this)){var Q=this.G.getVideoData().watchToWatchTransitionRenderer,G=Q==null?void 0:Q.fromColorPaletteDark;Q=Q==null?void 0:Q.toColorPaletteDark;if(G&&Q){var J=this.element;J.style.setProperty("--w2w-start-background-color",g.Pd(G.surgeColor));J.style.setProperty("--w2w-start-primary-text-color",g.Pd(G.primaryTitleColor));J.style.setProperty("--w2w-start-secondary-text-color",g.Pd(G.secondaryTitleColor));J.style.setProperty("--w2w-end-background-color",g.Pd(Q.surgeColor));
J.style.setProperty("--w2w-end-primary-text-color",g.Pd(Q.primaryTitleColor));J.style.setProperty("--w2w-end-secondary-text-color",g.Pd(Q.secondaryTitleColor));J.style.setProperty("--w2w-animation-duration",w+"ms")}g.on(this.element,"ytp-w2w-animate",!0)}};
g.S.Ee=function(w){this.G.U("web_autonav_color_transition")&&w!==2&&g.on(this.element,"ytp-w2w-animate",!1)};
g.S.WZ=function(){var w=this.G.r_();this.Z&&this.rd!==w&&this.Xu(w);Bz(this);this.G.logVisibility(this.container.element,w);this.G.logVisibility(this.cancelButton.element,w);this.G.logVisibility(this.Y.AU("ytp-autonav-endscreen-link-container"),w);this.G.logVisibility(this.playButton.element,w)};
g.S.wk=function(w){return w.width<400||w.height<459};g.b(Mi,g.H);g.S=Mi.prototype;g.S.create=function(){this.created=!0};
g.S.destroy=function(){this.created=!1};
g.S.u5=function(){return!1};
g.S.r_=function(){return!1};
g.S.qC=function(){return!1};g.b(Ia,g.H);g.S=Ia.prototype;g.S.O$=function(){this.notification&&(this.J.stop(),this.qT(this.L),this.L=null,this.notification.close(),this.notification=null)};
g.S.dc=function(w){this.suggestion=w;g.C2(this,w,"hqdefault.jpg")};
g.S.PZ=function(){this.Xu(this.api.r_());this.api.logVisibility(this.element,this.api.r_());this.api.logVisibility(this.AU("ytp-upnext-autoplay-icon"),this.api.r_());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.r_())};
g.S.GuL=function(){window.focus();this.O$()};
g.S.Ya=function(w){var Q=this;this.kC()||(g.th("a11y-announce","Up Next "+this.suggestion.title),this.W=(0,g.DD)(),this.Y=new g.iz(function(){q00(Q,w)},25),q00(this,w),VfO(this.api,nCl(this,w)));
g.MH(this.element,"ytp-upnext-autoplay-paused")};
g.S.hide=function(){g.H.prototype.hide.call(this)};
g.S.kC=function(){return!!this.Y};
g.S.rq=function(){this.yz();this.W=(0,g.DD)();q00(this);g.s8(this.element,"ytp-upnext-autoplay-paused")};
g.S.yz=function(){this.kC()&&(this.Y.dispose(),this.Y=null)};
g.S.select=function(w){w=w===void 0?!1:w;if(this.api.T().U("autonav_notifications")&&w&&window.Notification&&typeof document.hasFocus==="function"){var Q=Notification.permission;Q==="default"?Notification.requestPermission():Q!=="granted"||document.hasFocus()||(this.O$(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.FM()}),this.L=this.j(this.notification,"click",this.GuL),this.J.start())}this.yz();this.api.nextVideo(!1,w)};
g.S.Lw=function(w){!g.cV(this.cancelButton.element,w.target)&&g.b8(w,this.api)&&(this.api.r_()&&this.api.logClick(this.AU("ytp-upnext-autoplay-icon")),this.select())};
g.S.Ai=function(){this.api.r_()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.gO(this.api,!0)};
g.S.kuV=function(w){this.api.getPresentingPlayerType();this.show();this.Ya(w)};
g.S.vdT=function(){this.api.getPresentingPlayerType();this.yz();this.hide()};
g.S.Ez=function(){this.yz();this.O$();g.H.prototype.Ez.call(this)};g.b(oa,Mi);g.S=oa.prototype;g.S.create=function(){Mi.prototype.create.call(this);this.J.j(this.player,"appresize",this.Jo);this.J.j(this.player,"onVideoAreaChange",this.Jo);this.J.j(this.player,"videodatachange",this.onVideoDataChange);this.J.j(this.player,"autonavchange",this.QT);this.J.j(this.player,"onAutonavCancelled",this.Ji);this.onVideoDataChange()};
g.S.show=function(){Mi.prototype.show.call(this);(this.Z||this.L&&this.L!==this.videoData.clientPlaybackNonce)&&g.gO(this.player,!1);g.pQ(this.player)&&this.u5()&&!this.L?($R(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||ZVO(this.player.C1())&&this.player.U("web_player_pip_logging_fix")?this.Y.select(!0):this.Y.Ya():this.videoData.autonavState===3&&this.Y.rq()):(g.gO(this.player,!0),$R(this));this.Jo()};
g.S.hide=function(){Mi.prototype.hide.call(this);this.Y.rq();$R(this)};
g.S.Jo=function(){var w=this.player.Vl(!0,this.player.isFullscreen());$R(this);Bz(this.W);g.on(this.element,"ytp-autonav-cancelled-small-mode",this.wk(w));g.on(this.element,"ytp-autonav-cancelled-tiny-mode",this.G1(w));g.on(this.element,"ytp-autonav-cancelled-mini-mode",w.width<=400||w.height<=360);this.overlay&&g.WP(this.overlay.element,{width:w.width+"px"});if(!this.K)for(w=0;w<this.videos.length;w++)g.on(this.videos[w].element,"ytp-suggestion-card-with-margin",w%2===1)};
g.S.onVideoDataChange=function(){var w=this.player.getVideoData();if(this.videoData!==w&&w){this.videoData=w;w=this.videoData.suggestions;var Q=g.SY(this.videoData);Q&&(this.Y.dc(Q),this.Y!==this.W&&this.W.dc(Q));if(w&&w.length)for(Q=0;Q<K4O.length;++Q){var G=K4O[Q];if(w&&w[G]){this.videos[Q]=new vz(this.player);var J=this.videos[Q];G=w[G];J.suggestion!==G&&(J.suggestion=G,g.C2(J,G));g.P(this,this.videos[Q]);this.videos[Q].hU(this.D.element)}}this.Jo()}};
g.S.QT=function(w){w===1?(this.Z=!1,this.L=this.videoData.clientPlaybackNonce,this.Y.yz(),this.rd&&this.Jo()):(this.Z=!0,this.r_()&&(w===2?this.Y.Ya():w===3&&this.Y.rq()))};
g.S.Ji=function(w){w?this.QT(1):(this.L=null,this.Z=!1)};
g.S.u5=function(){return this.videoData.autonavState!==1};
g.S.wk=function(w){return(w.width<910||w.height<459)&&!this.G1(w)&&!(w.width<=400||w.height<=360)};
g.S.G1=function(w){return w.width<800&&!(w.width<=400||w.height<=360)};
g.S.r_=function(){return this.rd&&g.pQ(this.player)&&this.u5()&&!this.L};
var K4O=[1,3,2,4];g.b(fbl,Mi);g.S=fbl.prototype;g.S.create=function(){Mi.prototype.create.call(this);var w=this.player.getVideoData();w&&(this.videoData=w);this.XJ();this.W.j(this.player,"appresize",this.XJ);this.W.j(this.player,"onVideoAreaChange",this.XJ);this.W.j(this.player,"videodatachange",this.onVideoDataChange);this.W.j(this.player,"autonavchange",this.EF);this.W.j(this.player,"onAutonavCancelled",this.vy);w=this.videoData.autonavState;w!==this.D&&this.EF(w);this.W.j(this.element,"transitionend",this.Sd)};
g.S.destroy=function(){g.co(this.W);g.SU(this.stills);this.stills=[];Mi.prototype.destroy.call(this);g.MH(this.element,"ytp-show-tiles");this.K.stop();this.D=this.videoData.autonavState};
g.S.u5=function(){return this.videoData.autonavState!==1};
g.S.show=function(){var w=this.rd;Mi.prototype.show.call(this);g.MH(this.element,"ytp-show-tiles");this.player.T().W?g.Gb(this.K):this.K.start();(this.J||this.L&&this.L!==this.videoData.clientPlaybackNonce)&&g.gO(this.player,!1);mh(this)?(Ag(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||ZVO(this.player.C1())&&this.player.U("web_player_pip_logging_fix")?this.Y.select(!0):this.Y.Ya():this.videoData.autonavState===3&&this.Y.rq()):(g.gO(this.player,!0),Ag(this));w!==this.rd&&
this.player.logVisibility(this.element,!0)};
g.S.hide=function(){var w=this.rd;Mi.prototype.hide.call(this);this.Y.rq();Ag(this);w!==this.rd&&this.player.logVisibility(this.element,!1)};
g.S.Sd=function(w){w.target===this.element&&this.XJ()};
g.S.XJ=function(){var w,Q,G,J;var N=((w=this.videoData)==null?0:(Q=w.suggestions)==null?0:Q.length)?(G=this.videoData)==null?void 0:G.suggestions:[(J=this.videoData)==null?void 0:g.SY(J)];if(N.length){Q=this.G.Vl(!0,this.G.isFullscreen());w=Math.floor((Q.width-64+16)/(g.N2(Q.width*.27,250,450)+16));Q=Math.min(3,Math.floor((Q.height-64)/((Q.width-64-(w-1)*16)/w*.5625+70)));g.In(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.s8(this.element,"ytp-modern-endscreen-limit-rows-"+Q);g.on(this.element,"ytp-modern-endscreen-single-item",w===1);g.on(this.element,"ytp-modern-endscreen-row-0",Q===0);w=this.table.element;w.ariaLive="polite";this.Y.dc(g.SY(this.videoData));this.Y instanceof sN&&Bz(this.Y);g.on(this.element,"ytp-endscreen-takeover",mh(this));Ag(this);Q=0;w.ariaBusy="true";G=N.length;for(J=0;J<G;J++){var C=J%G,W=this.stills[J];W||(W=new g.WG(this.player),this.stills[J]=W,w.appendChild(W.element));g.xoG(W,N[C]);Q++}this.stills.length=
Q}};
g.S.onVideoDataChange=function(){var w=this.player.getVideoData(1);this.videoData!==w&&(w!=null&&g.SY(w)?(this.videoData=w,this.XJ()):this.player.Mc("missg",{vid:(w==null?void 0:w.videoId)||"",cpn:(w==null?void 0:w.clientPlaybackNonce)||""}))};
g.S.qC=function(){return this.Y.kC()};
g.S.EF=function(w){w===1?(this.J=!1,this.L=this.videoData.clientPlaybackNonce,this.Y.yz(),this.rd&&this.XJ()):(this.J=!0,this.rd&&mh(this)&&(w===2?this.Y.Ya():w===3&&this.Y.rq()))};
g.S.vy=function(w){if(w){for(w=0;w<this.stills.length;w++)this.G.logVisibility(this.stills[w].element,!0);this.EF(1)}else this.L=null,this.J=!1;this.XJ()};
g.S.r_=function(){return this.rd&&mh(this)};g.b(d00,Mi);d00.prototype.Z0=function(){var w=this.player.getVideoData();this.Y.update({profilePicture:w.profilePicture,author:w.author});this.subscribeButton.channelId=w.lJ;var Q=this.subscribeButton;w.subscribed?Q.Y():Q.W()};g.b(Fp,g.H);Fp.prototype.select=function(){this.api.Hv(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.kZ||void 0)&&this.api.logClick(this.element)};
Fp.prototype.onClick=function(w){if(g.HY(this.api.T())&&this.api.U("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var Q=this.suggestion.Xa(),G={};g.hc(this.api,G);Q=g.q6(Q,G);g.Ub(Q,this.api,w)}else g.b8(w,this.api,this.W,this.suggestion.sessionData||void 0)&&this.select()};
Fp.prototype.onKeyPress=function(w){switch(w.keyCode){case 13:case 32:w.defaultPrevented||(this.select(),w.preventDefault())}};
Fp.prototype.onVideoDataChange=function(){var w=this.api.getVideoData(),Q=this.api.T();this.W=w.uT?!1:Q.J};g.b(S4,Mi);g.S=S4.prototype;g.S.create=function(){Mi.prototype.create.call(this);var w=this.player.getVideoData();w&&(this.videoData=w);this.wq();this.W.j(this.player,"appresize",this.wq);this.W.j(this.player,"onVideoAreaChange",this.wq);this.W.j(this.player,"videodatachange",this.onVideoDataChange);this.W.j(this.player,"autonavchange",this.Rx);this.W.j(this.player,"onAutonavCancelled",this.Kw);w=this.videoData.autonavState;w!==this.C&&this.Rx(w);this.W.j(this.element,"transitionend",this.nw)};
g.S.destroy=function(){g.co(this.W);g.SU(this.stills);this.stills=[];Mi.prototype.destroy.call(this);g.MH(this.element,"ytp-show-tiles");this.Z.stop();this.C=this.videoData.autonavState};
g.S.u5=function(){return this.videoData.autonavState!==1};
g.S.show=function(){var w=this.rd;Mi.prototype.show.call(this);g.MH(this.element,"ytp-show-tiles");this.player.T().W?g.Gb(this.Z):this.Z.start();(this.K||this.J&&this.J!==this.videoData.clientPlaybackNonce)&&g.gO(this.player,!1);Xp(this)?(ba(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||ZVO(this.player.C1())&&this.player.U("web_player_pip_logging_fix")?this.Y.select(!0):this.Y.Ya():this.videoData.autonavState===3&&this.Y.rq()):(g.gO(this.player,!0),ba(this));w!==this.rd&&
this.player.logVisibility(this.element,!0)};
g.S.hide=function(){var w=this.rd;Mi.prototype.hide.call(this);this.Y.rq();ba(this);w!==this.rd&&this.player.logVisibility(this.element,!1)};
g.S.nw=function(w){w.target===this.element&&this.wq()};
g.S.wq=function(){var w,Q,G,J;var N=((w=this.videoData)==null?0:(Q=w.suggestions)==null?0:Q.length)?(G=this.videoData)==null?void 0:G.suggestions:[(J=this.videoData)==null?void 0:g.SY(J)];if(N.length){g.s8(this.element,"ytp-endscreen-paginate");var C=this.G.Vl(!0,this.G.isFullscreen());if(w=g.Dn(this.G))w=w.E3()?48:32,C.width-=w*2;var W=C.width/C.height;J=96/54;Q=w=2;var L=Math.max(C.width/96,2),v=Math.max(C.height/54,2);G=N.length;var B=G*4;for(B-=4;B>0&&(w<L||Q<v);){var M=w/2,I=Q/2,m=w<=L-2&&B>=
I*4,A=Q<=v-2&&B>=M*4;if((M+1)/I*J/W>W/(M/(I+1)*J)&&A)B-=M*4,Q+=2;else if(m)B-=I*4,w+=2;else if(A)B-=M*4,Q+=2;else break}J=!1;B>=12&&G*4-B<=6&&(Q>=4||w>=4)&&(J=!0);B=w*96;L=Q*54;W=B/L<W?C.height/L:C.width/B;W=Math.min(W,2);B=Math.floor(Math.min(C.width,B*W));L=Math.floor(Math.min(C.height,L*W));C=this.table.element;C.ariaLive="polite";g.AF(C,B,L);g.WP(C,{marginLeft:B/-2+"px",marginTop:L/-2+"px"});this.Y.dc(g.SY(this.videoData));this.Y instanceof sN&&Bz(this.Y);g.on(this.element,"ytp-endscreen-takeover",
Xp(this));ba(this);B+=4;L+=4;W=0;C.ariaBusy="true";for(v=0;v<w;v++)for(M=0;M<Q;M++)if(I=W,A=0,J&&v>=w-2&&M>=Q-2?A=1:M%2===0&&v%2===0&&(M<2&&v<2?M===0&&v===0&&(A=2):A=2),I=g.CE(I+this.L,G),A!==0){m=this.stills[W];m||(m=new Fp(this.player),this.stills[W]=m,C.appendChild(m.element));var F=Math.floor(L*M/Q),x=Math.floor(B*v/w),V=Math.floor(L*(M+A)/Q)-F-4,r=Math.floor(B*(v+A)/w)-x-4;g.ID(m.element,x,F);g.AF(m.element,r,V);g.WP(m.element,"transitionDelay",(M+v)/20+"s");g.on(m.element,"ytp-videowall-still-mini",
A===1);g.on(m.element,"ytp-videowall-still-large",A>2);A=Math.max(r,V);g.on(m.element,"ytp-videowall-still-round-large",A>=256);g.on(m.element,"ytp-videowall-still-round-medium",A>96&&A<256);g.on(m.element,"ytp-videowall-still-round-small",A<=96);I=N[I];m.suggestion!==I&&(m.suggestion=I,A=m.api.T(),F=g.vE(m.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.C2(m,I,F),g.HY(A)&&!m.api.U("web_player_log_click_before_generating_ve_conversion_params")&&(A=I.Xa(),F={},g.VJ(m.api,"addEmbedsConversionTrackingParams",
[F]),A=g.q6(A,F),m.updateValue("url",A)),(I=(I=I.sessionData)&&I.itct)&&m.api.setTrackingParams(m.element,I));W++}C.ariaBusy="false";g.on(this.element,"ytp-endscreen-paginate",W<G);for(N=this.stills.length-1;N>=W;N--)w=this.stills[N],g.zQ(w.element),g.F$(w);this.stills.length=W}};
g.S.onVideoDataChange=function(){var w=this.player.getVideoData(1);this.videoData!==w&&(w!=null&&g.SY(w)?(this.L=0,this.videoData=w,this.wq()):this.player.Mc("missg",{vid:(w==null?void 0:w.videoId)||"",cpn:(w==null?void 0:w.clientPlaybackNonce)||""}))};
g.S.qM=function(){this.L+=this.stills.length;this.wq()};
g.S.F4=function(){this.L-=this.stills.length;this.wq()};
g.S.qC=function(){return this.Y.kC()};
g.S.Rx=function(w){w===1?(this.K=!1,this.J=this.videoData.clientPlaybackNonce,this.Y.yz(),this.rd&&this.wq()):(this.K=!0,this.rd&&Xp(this)&&(w===2?this.Y.Ya():w===3&&this.Y.rq()))};
g.S.Kw=function(w){if(w){for(w=0;w<this.stills.length;w++)this.G.logVisibility(this.stills[w].element,!0);this.Rx(1)}else this.J=null,this.K=!1;this.wq()};
g.S.r_=function(){return this.rd&&Xp(this)};g.b(z3k,g.H);g.S=z3k.prototype;g.S.Yb=function(){switch(this.buttonType){case 1:var w="Watch again on YouTube";var Q=156915;break;case 2:w="Continue watching on YouTube";Q=156942;break;default:w="Continue watching on YouTube",Q=156942}this.update({content:w});this.G.hasVe(this.element)&&this.G.destroyVe(this.element);this.G.createClientVe(this.element,this,Q)};
g.S.onClick=function(w){this.G.U("web_player_log_click_before_generating_ve_conversion_params")&&this.G.logClick(this.element);g.Ub(this.getVideoUrl(),this.G,w);this.G.U("web_player_log_click_before_generating_ve_conversion_params")||this.G.logClick(this.element)};
g.S.getVideoUrl=function(){var w=!0;switch(this.buttonType){case 1:w=!0;break;case 2:w=!1}w=this.G.getVideoUrl(w,!1,!1,!0);var Q=this.G.T();if(g.HY(Q)){var G={};g.HY(Q)&&g.VJ(this.G,"addEmbedsConversionTrackingParams",[G]);w=g.q6(w,G)}return w};
g.S.logVisibility=function(){this.G.logVisibility(this.element,this.rd&&this.YB)};
g.S.show=function(){g.H.prototype.show.call(this);this.logVisibility()};
g.S.hide=function(){g.H.prototype.hide.call(this);this.logVisibility()};
g.S.WE=function(w){g.H.prototype.WE.call(this,w);this.logVisibility()};g.b(xR,Mi);xR.prototype.hasSuggestions=function(){var w;return(w=this.Y)==null?void 0:w.hasSuggestions()};
xR.prototype.show=function(){if(this.player.getPlayerState()!==3){Mi.prototype.show.call(this);var w=this.W;if(w){var Q=this.Y.hasSuggestions();g.on(this.element,"ytp-shorts-branded-ui",Q);Q?w.show():w.hide()}var G;(G=g.Dn(this.player))==null||G.qj(!0);this.player.logVisibility(this.element,!0);this.watchButton.WE(!0)}};
xR.prototype.hide=function(){Mi.prototype.hide.call(this);var w;(w=g.Dn(this.player))==null||w.qj(!1);this.player.logVisibility(this.element,!1);this.watchButton.WE(!1)};g.b(lbj,g.FE);g.S=lbj.prototype;g.S.Fs=function(){var w=this.player.getVideoData(),Q=w.mutedAutoplay&&(w.limitedPlaybackDurationInSeconds>0||w.endSeconds>0||w.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!Q)return!0;var G;var J=!!((w==null?0:g.SY(w))||(w==null?0:(G=w.suggestions)==null?0:G.length));J=!cVd(this.player)||J;w=w.hZ;G=this.player.Bu();return J&&!w&&!G&&!Q};
g.S.r_=function(){return this.endScreen.r_()};
g.S.PfB=function(){return this.r_()?this.endScreen.qC():!1};
g.S.Ez=function(){this.player.SL("endscreen");g.FE.prototype.Ez.call(this)};
g.S.load=function(){var w=this.player.getVideoData();var Q=w.transitionEndpointAtEndOfStream;if(Q&&Q.videoId){var G=this.player.Jd().Qi.get("heartbeat"),J=g.SY(w);!J||Q.videoId!==J.videoId||w.o1?(this.player.Hv(Q.videoId,void 0,void 0,!0,!0,Q),G&&G.pQ("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),w=!0):w=!1}else w=!1;w||(g.FE.prototype.load.call(this),this.endScreen.show())};
g.S.unload=function(){g.FE.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.S.onCueRangeEnter=function(w){this.Fs()&&(this.endScreen.created||this.endScreen.create(),w.getId()==="load"&&this.load())};
g.S.onCueRangeExit=function(w){w.getId()==="load"&&this.loaded&&this.unload()};
g.S.onVideoDataChange=function(){OVr(this);this.L&&R30(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.Y?this.endScreen=new oa(this.player):this.endScreen=new S4(this.player),g.P(this,this.endScreen),g.Tx(this.player,this.endScreen.element,4))};g.Aa("endscreen",lbj);})(_yt_player);
